# GoMessage

GoMessage 是一个基于 Go 语言的消息服务器。

## 项目介绍

GoMessage 使用 Go 语言编写，它是一个简单的聊天服务器，可以处理用户的上线、下线、改名、广播消息和私聊等功能。

## 如何运行

1. 确保您的系统已经安装了 Go。
2. 在项目根目录下运行 `go build -o server main.go server.go user.go` 来构建服务器。
3. 在另一个终端窗口中，运行 `go build -o client client.go` 来构建客户端。

## 功能

- 用户上线和下线通知：当用户上线或下线时，服务器会通知所有在线的用户。
- 用户改名：用户可以通过发送特定的命令来改变他们的用户名。例如，发送`rename 新用户名`可以将用户名更改为`新用户名`。
- 用户消息广播：用户可以发送消息到服务器，服务器会将这些消息广播到所有在线的用户。例如，发送`msg 你好，世界！`会将`你好，世界！`
  这条消息发送给所有在线的用户。
- 用户私聊：用户可以向特定的其他用户发送私人消息。例如，发送`to 用户名 消息`可以向特定用户发送私人消息。

## 客户端使用

1. 在终端中运行 `go run client.go` 来启动客户端。您可以使用 `-ip` 和 `-port` 参数来指定服务器的 IP
   地址和端口号，例如 `go run client.go -ip 192.168.1.1 -port 8080`。如果不指定，将默认连接到 `127.0.0.1:8888`。
2. 启动后，您将看到一个菜单，提供以下选项：
   1. 公聊模式
   2. 私聊模式
   3. 更新用户名
   0. 退出
3. 输入对应的数字来选择一个选项，然后按回车键。
4. 如果您选择了公聊模式，您可以输入您想要发送的消息，然后按回车键。
5. 如果您选择了私聊模式，您需要首先输入您想要聊天的对象的用户名，然后输入您想要发送的消息，然后按回车键。
6. 如果您选择了更新用户名，您可以输入新的用户名，然后按回车键。
7. 如果您选择了退出，客户端将关闭。

请注意，这些功能的实现可能会根据您的代码的实际情况有所不同。

## 项目结构

- `main.go`：服务器的入口文件。
- `client.go`：客户端的入口文件。
- `user.go`：定义了用户的数据结构和方法。
- `server.go`：定义了服务器的数据结构和方法。

## 注意事项

- 本项目仅供学习和参考，不建议在生产环境中使用。
- 如果您在使用过程中遇到任何问题，欢迎提交 issue。